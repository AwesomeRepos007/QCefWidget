<html>
 <head> 
  <meta name="description" content="Test Page" /> 
  <script>
        function onEventTest(event) {
          var kvlist = [];
          for (var key in event) {
              kvlist.push(key + ":" + event[key])
          }
          var msg = kvlist.join('\r\n');
          document.getElementById("eventMessage").value += msg;

          document.getElementById("eventMessage").value += "\r\n\r\n";
        }

        function onLoad() {
          if (typeof(QCefWidget) == 'undefined') {
            document.getElementById("eventMessage").value += "Warning: typeof(QCefWidget) != 'undefined'";
            return;
          }

          QCefWidget.addEventListener("eventTest", onEventTest)
        }

        function onInvokeMethodClicked() {
          QCefWidget.invoke("TestMethod", 1, false, "arg3");
        }

        function onDragAreaMouseDown() {
          QCefWidget.invoke("onDragAreaMouseDown");
        }

        function onQCefQueryClicked() {
          var query = {
            request: document.getElementById("message").value,
            onSuccess: function(response) {
                alert("onSuccess: " + response);
            },
            onFailure: function(error_code, error_message) {
                alert("onFailure: " + error_code + ", " + error_message);
            }
          }
          window.QCefWidgetQuery(query);
        }

        function OpenPopup() {
          var popup = window.open("", "PopupWindow", "width=800, height=600");
          popup.document.write("<p>This is popup window.</p>");
        }
    </script> 
  <style>
    dt{
      font-weight: bold;
      font-size: 20px;
    }
    
    dd{
    display: flex;
    flex-direction: column;
    margin-top:50px;
    }
    input{
    width:320px;
    }
    span{
    font-size:12px;
    }
    textarea{
    margin: 10px 0 10px 0;
    }
    
    .title-area {
        -webkit-app-region: drag;
        background-color: red;
      }
      .title-button {
        -webkit-app-region: no-drag;
      }
    </style>
 </head>  
 <body onload="onLoad()" id="main"> 
  <dl> 
  <dt>
    Drag
  </dt>
  <dd>
    <div class='title-area'>
        A draggable area. 
        <div class='title-button'>clickable button</div>
    </div>
  </dd>
   <dt>
    Javascript and Qt interaction
   </dt> 
   <dd> 
    <input type="button" value="Invoke" onclick="onInvokeMethodClicked()" /> 
   </dd> 
   <dd> 
    <span>Recevie from Qt:</span> 
    <textarea id="eventMessage" style="width:320px; height:120px;"></textarea> 
   </dd> 
   <dd> 
    <span>QCefQuery Test:</span> 
    <textarea id="message" style="width:320px; height:120px;">this is a query request message from javascript.</textarea> 
    <input type="button" value="Query" onclick="onQCefQueryClicked()" /> 
   </dd> 
   
   <dt>
    HTML Controls
   </dt>
   <dd>
    <select NAME="TEMP" Î¿nchange="KK.innerText =this.options[this.selectedIndex].value">
      <option value="AAAAAA">AAAAAA</option>
      <option value="BBBBBB">BBBBBB</option>
      <option value="CCCCCC">CCCCCC</option>
      <option value="DDDDDD">DDDDDD</option>
      <option value="EEEEEE">EEEEEE</option>
      <option value="FFFFFF">FFFFFF</option>
    </select>
   </dd>
  </dl>  
 </body>
</html>